# ym-timeclock
實習打卡系統 

相關文件放置 ：
docs/        一般性的規則
* `rules.md`（管理規定）
* `manual.md`（使用手冊）

./dev/docs/   開發規範
    如  

* `./dev/docs/SPEC.md`（系統規格）


----
以下是舊資料僅供參考參  
#  初期想法 ：

1. 系統切成幾個模組

後端 API / 計算核心

功能：

接收打卡 / 請假 / 補打卡請求

記錄「事件」(event-based)：上班、下班、休息開始、休息結束、請假單、補打卡申請、審核結果…

根據事件，計算「每天工時、遲到次數、請假統計」

對外提供 REST/GraphQL API 給：

Discord bot

Web 後台（管理頁）

之後如果要再接別的前端也可以（例如簡單 mobile web）

Discord Bot

slash 指令 / button：

/in 上班打卡

/out 下班打卡

/break_start、/break_end 中途外出

/leave 申請請假（簡要資訊 + 自動給 Web 表單連結補充）

/retro_clock 補打卡（遺漏打卡＋說明）

/today 查看自己今天打卡 & 工時計算

/help 出勤規則與流程教學

Bot 主要工作：

把指令轉成 API call

回傳簡短訊息 / embed 給使用者

定期推播公告（例如每週遲到排行榜、請假列表摘要）

Web 後台（管理 + 自助查詢）

管理員視角：

人員列表、出勤紀錄查詢、工時 / 遲到率統計

補打卡 / 請假單審核

匯出 CSV / Excel

一般成員視角：

查看自己某段時間出勤紀錄

查看自己遲到次數、請假紀錄

檢查請假申請狀態（審核中 / 通過 / 駁回）

整合模組（Google Calendar / Notion / Discord 公告）

Leave 或請假單通過時：

呼叫 Google Calendar API 建立 / 更新行事曆事件

呼叫 Notion API 更新請假看板（新增一筆卡片或更新狀態）

定時 Job：

每天 / 每週在 Discord 看板發出統計（遲到率、請假數量…）

排程與提醒模組

Cron Job / scheduler：

上班時間過 X 分鐘還沒打卡 → DM / 提醒

下班時間過 X 分鐘還沒下班打卡 → 提醒

有人送出補打卡 / 請假申請 → 通知管理員審核


# 參考資料  ： 舊版的Google  Forms 打卡  與管理規定
 
------
### **打卡流程整理**

**1. 基本打卡**
- 上下班都須打卡。
- *中午休息時間*不用打卡（系統自動扣除1.5小時）。
- 若中途離開、稍後會回來上班，請分別操作「休息開始」及「休息結束」。
- 若預期會遲到/請假，請提前告知以免部分處罰和證明需求。
- *遲到、未改善，或未經預告臨時請假、請假過多，補打卡過多等行為*會影響獎金及實習證明。
- *津貼*以現場辦公為主，遠距目前無獎金。

**2. 請假和補打卡流程**
- 請假建議提前告知，可免部分證明/處罰。
- 需填寫請假或補打卡單（表單區段2）。
- 若遲到或忘打卡，須補單並說明原因，並提出改進方式（表單區段3）。
- 報告出勤型態（現場、遠端、自主學習），選擇對應類別（表單區段4）。
 
**3. 進度回報**
- 請於Teams回報每日進度和明日規劃，下班前務必完成。
- 有困難或不便直接反映，可用表單描述求助（表單區段5）。

**4. 補打卡詳細操作**
- 選擇補打卡類型（上班、下班、遠端、自主學習）。
- 填寫補打卡日期及時間。
- 說明如何避免下次遺漏。

**5. 請假流程（預告、正式、當日）**
- 預先告知請假後需同步Teams行事曆並標註「暫定」。
- 正式請假需標明開始/結束日期與時間、類型、原因。
    - 生理假/病假：不需證明（但主管得事後要求補證明）。
    - 事假：除突發事故，均須事前申請，超過規定天數須提前預告。
- 當日請假需填寫原因及相關資料。

***
### **表單內容轉為 Markdown 範本**

```markdown
# 2024出勤與請假紀錄（Google 表單）

## 注意事項
- 中午休息時間不用打卡（系統自動扣除1.5小時）
- 養成提前告知習慣
  1. 事假預先提前告知可免除請假證明（不確定時間/天數亦可預先告知）
  2. 預告可能遲到可免除遲到處罰次數
- 遲到未改善、非突發臨時請假、請假太多、未打卡/補打卡次數過多，會影響獎金及實習證明評語

- 交通伙食津貼僅限辦公室實習，遠距目前無獎金

- 詳細請假規則：  
  [Notion 請假規則](https://www.notion.so/ymvdo/608498e5aaee44cf9e8a91cafabe810b?pvs=4)

---

## 打卡種類
- 上班打卡
- 下班打卡
- 休息開始（中途離開辦公室，稍後回來）
- 休息結束（返回辦公室繼續工作）
- 其他（預先告知、請假、遲到、補打卡等）

---

## 請假/補打卡
- 預先告知：當日可能會遲到
- 預先告知：可能會請假
- 正式請假／當日請假補假單
- 準時上班忘打卡，須補打卡
- 當日遲到需補打卡

---

## 遲到區段
- 填寫遲到原因
- 說明如何避免下次再發生

---

## 出勤類別
- 公司實地實習
- 遠端實習（WFH）
- 下班後在家自主學習

---

## 今日進度
- Teams 張貼訊息（不需填表單）
- 下班前回報進度
- 遭遇困難可於表單反映（可匿名）

---

## 補打卡
- 補上班打卡
- 補下班打卡
- 補遠端實習上班打卡
- 補遠端實習下班打卡
- 補自主學習開始
- 補自主學習結束
- 填寫補打卡日期、時間及如何避免忘記打卡

---

## 預先告知請假
- 表單填寫後，更新Teams行事曆並標註「暫定」，確定後再修正

---

## 正式請假
- 填寫起始日期、時間，結束日期、時間
- 請假類型如下：
  - 當日請病假、生理假（不需證明）
  - 當日請事假（重大不可抗拒之變故）
  - 事假(已預告，不需證明)
  - 事假(於規定期限內請假，需檢附證明，公司協助代理人)
  - 事假(未於規定期限內請假，需檢附證明，自行尋找代理人)
  - 其他
- 填寫請假原因

---

## 當日請假
- 填寫請假說明及意見回饋
```

[1](https://docs.google.com/forms/d/1G05tX0L7TfndqSfWcfprH1cm5f0zS2qmmhLo0_-RBx4/edit)


